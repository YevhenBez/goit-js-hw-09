{"mappings":"YAAA,IAcIA,EAdEC,EAAOC,SAASC,cAAc,SAE9BC,EAAaH,EAAKI,kBAAkBA,kBAEpCC,EAAYL,EAAKI,kBAAkBE,mBAAmBF,kBAItDG,EAFMP,EAAKQ,iBAEOC,uBAAuBL,kBAE3CM,EAAU,EAEVC,EAAkB,EA8CtB,SAASC,EAAcC,EAAUC,GAE/B,OADsBC,KAAKC,SAAW,GAE7BC,QAAQC,QAAQ,CAACL,SAAUF,EAAiBG,MAAOf,IAEnDkB,QAAQE,OAAO,CAACN,SAAUF,EAAiBG,MAAOf,G,CA/C7DC,EAAKoB,iBAAiB,SAEtB,SAAqBC,GAEnB,IAAMC,EAAkB,CAACR,MAAOX,EAAWoB,MAAOC,KAAMnB,EAAUkB,MAAOE,OAAQlB,EAAYgB,OAE7FG,aAAaC,QAAQ,iBAAkBC,KAAKC,UAAUP,G,IAGxDtB,EAAKoB,iBAAiB,UAAU,SAAAC,GAC9BA,EAAMS,iBAEN,IAAMC,EAAuBL,aAAaM,QAAQ,kBAE5CC,EAAwBL,KAAKM,MAAMH,GAEnCI,EAAiBF,EAAsBR,OAE7C1B,EAAeqC,OAAOH,EAAsBnB,OAI5C,IAFA,IAAMuB,EAAeD,OAAOH,EAAsBT,MAE3Cd,EAAUyB,GAAgB,CAEfvB,IAER0B,MAAK,SAAAC,G,IAAG1B,EAAQ0B,EAAR1B,SAAUC,EAAKyB,EAALzB,MAC1B0B,QAAQC,IAAI,uBAAwCC,OAAf7B,EAAS,QAAY6B,OAAN5B,EAAM,M,IAE3D6B,OAAM,SAAAJ,G,IAAG1B,EAAQ0B,EAAR1B,SAAUC,EAAKyB,EAALzB,MAClB0B,QAAQC,IAAI,sBAAqCC,OAAf7B,EAAS,QAAY6B,OAAN5B,EAAM,M,IAGvDJ,GAAW,EAEXC,GAAmB,EAEnBZ,GAAgBsC,C","sources":["src/js/03-promises.js"],"sourcesContent":["const form = document.querySelector('.form');\n\nconst inputDelay = form.firstElementChild.firstElementChild;\n\nconst inputStep = form.firstElementChild.nextElementSibling.firstElementChild;\n\nconst btn = form.lastElementChild;\n\nconst inputAmount = btn.previousElementSibling.firstElementChild;\n\nlet counter = 0;\n\nlet positionInOrder = 1;\n\nlet delayInOrder;\n\nform.addEventListener('input', onFormInput);\n\nfunction onFormInput(event) {\n  \n  const delayStepAmount = {delay: inputDelay.value, step: inputStep.value, amount: inputAmount.value};\n\n  localStorage.setItem(\"data-from-user\", JSON.stringify(delayStepAmount)); \n}\n\nform.addEventListener(\"submit\", event => {\n  event.preventDefault();\n\n  const savedDelayStepAmount = localStorage.getItem(\"data-from-user\");\n\n  const parsedDelayStepAmount = JSON.parse(savedDelayStepAmount);\n\n  const amountFromUser = parsedDelayStepAmount.amount;\n\n  delayInOrder = Number(parsedDelayStepAmount.delay);\n\n  const stepFromUser = Number(parsedDelayStepAmount.step);\n\n  while (counter < amountFromUser) {\n\n    const promise = createPromise();\n\n    promise.then(({ position, delay }) => {\n    console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  })\n  .catch(({ position, delay }) => {\n    console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n  });\n      \n    counter += 1;\n    \n    positionInOrder += 1;\n\n    delayInOrder += stepFromUser;\n  }\n}\n);\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  if (shouldResolve) {\n    return Promise.resolve({position: positionInOrder, delay: delayInOrder});\n  } else {\n    return Promise.reject({position: positionInOrder, delay: delayInOrder});\n  }\n}"],"names":["$ce04d3a99e08e73b$var$delayInOrder","$ce04d3a99e08e73b$var$form","document","querySelector","$ce04d3a99e08e73b$var$inputDelay","firstElementChild","$ce04d3a99e08e73b$var$inputStep","nextElementSibling","$ce04d3a99e08e73b$var$inputAmount","lastElementChild","previousElementSibling","$ce04d3a99e08e73b$var$counter","$ce04d3a99e08e73b$var$positionInOrder","$ce04d3a99e08e73b$var$createPromise","position","delay","Math","random","Promise","resolve","reject","addEventListener","event","delayStepAmount","value","step","amount","localStorage","setItem","JSON","stringify","preventDefault","savedDelayStepAmount","getItem","parsedDelayStepAmount","parse","amountFromUser","Number","stepFromUser","then","param","console","log","concat","catch"],"version":3,"file":"03-promises.7029f078.js.map"}