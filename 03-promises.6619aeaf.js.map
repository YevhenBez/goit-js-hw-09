{"mappings":"AAAA,MAAMA,EAAOC,SAASC,cAAc,SAE9BC,EAAaH,EAAKI,kBAAkBA,kBAEpCC,EAAYL,EAAKI,kBAAkBE,mBAAmBF,kBAItDG,EAFMP,EAAKQ,iBAEOC,uBAAuBL,kBAE/C,IAIIM,EAJAC,EAAU,EAEVC,EAAkB,EA8CtB,SAASC,EAAcC,EAAUC,GAE/B,OADsBC,KAAKC,SAAW,GAE7BC,QAAQC,QAAQ,CAACL,SAAUF,EAAiBG,MAAOL,IAEnDQ,QAAQE,OAAO,CAACN,SAAUF,EAAiBG,MAAOL,G,CA/C7DV,EAAKqB,iBAAiB,SAEtB,SAAqBC,GAEnB,MAAMC,EAAkB,CAACR,MAAOZ,EAAWqB,MAAOC,KAAMpB,EAAUmB,MAAOE,OAAQnB,EAAYiB,OAE7FG,aAAaC,QAAQ,iBAAkBC,KAAKC,UAAUP,G,IAGxDvB,EAAKqB,iBAAiB,UAAUC,IAC9BA,EAAMS,iBAEN,MAAMC,EAAuBL,aAAaM,QAAQ,kBAE5CC,EAAwBL,KAAKM,MAAMH,GAEnCI,EAAiBF,EAAsBR,OAE7ChB,EAAe2B,OAAOH,EAAsBnB,OAE5C,MAAMuB,EAAeD,OAAOH,EAAsBT,MAElD,KAAOd,EAAUyB,GAAgB,CAEfvB,IAER0B,MAAK,EAACzB,SAAEA,EAAQC,MAAEA,MAC1ByB,QAAQC,IAAI,uBAAqB3B,QAAiBC,MAAU,IAE7D2B,OAAM,EAAC5B,SAAEA,EAAQC,MAAEA,MAClByB,QAAQC,IAAI,sBAAoB3B,QAAeC,MAAU,IAGzDJ,GAAW,EAEXC,GAAmB,EAEnBF,GAAgB4B,C","sources":["src/js/03-promises.js"],"sourcesContent":["const form = document.querySelector('.form');\n\nconst inputDelay = form.firstElementChild.firstElementChild;\n\nconst inputStep = form.firstElementChild.nextElementSibling.firstElementChild;\n\nconst btn = form.lastElementChild;\n\nconst inputAmount = btn.previousElementSibling.firstElementChild;\n\nlet counter = 0;\n\nlet positionInOrder = 1;\n\nlet delayInOrder;\n\nform.addEventListener('input', onFormInput);\n\nfunction onFormInput(event) {\n  \n  const delayStepAmount = {delay: inputDelay.value, step: inputStep.value, amount: inputAmount.value};\n\n  localStorage.setItem(\"data-from-user\", JSON.stringify(delayStepAmount)); \n}\n\nform.addEventListener(\"submit\", event => {\n  event.preventDefault();\n\n  const savedDelayStepAmount = localStorage.getItem(\"data-from-user\");\n\n  const parsedDelayStepAmount = JSON.parse(savedDelayStepAmount);\n\n  const amountFromUser = parsedDelayStepAmount.amount;\n\n  delayInOrder = Number(parsedDelayStepAmount.delay);\n\n  const stepFromUser = Number(parsedDelayStepAmount.step);\n\n  while (counter < amountFromUser) {\n\n    const promise = createPromise();\n\n    promise.then(({ position, delay }) => {\n    console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  })\n  .catch(({ position, delay }) => {\n    console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n  });\n      \n    counter += 1;\n    \n    positionInOrder += 1;\n\n    delayInOrder += stepFromUser;\n  }\n}\n);\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  if (shouldResolve) {\n    return Promise.resolve({position: positionInOrder, delay: delayInOrder});\n  } else {\n    return Promise.reject({position: positionInOrder, delay: delayInOrder});\n  }\n}"],"names":["$47d4ff9957288465$var$form","document","querySelector","$47d4ff9957288465$var$inputDelay","firstElementChild","$47d4ff9957288465$var$inputStep","nextElementSibling","$47d4ff9957288465$var$inputAmount","lastElementChild","previousElementSibling","$47d4ff9957288465$var$delayInOrder","$47d4ff9957288465$var$counter","$47d4ff9957288465$var$positionInOrder","$47d4ff9957288465$var$createPromise","position","delay","Math","random","Promise","resolve","reject","addEventListener","event","delayStepAmount","value","step","amount","localStorage","setItem","JSON","stringify","preventDefault","savedDelayStepAmount","getItem","parsedDelayStepAmount","parse","amountFromUser","Number","stepFromUser","then","console","log","catch"],"version":3,"file":"03-promises.6619aeaf.js.map"}